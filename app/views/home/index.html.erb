<nav class="navbar navbar-inverse navbar-fixed-top">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">FORWARD w/Google Map</a>
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
				<li class="active"><a href="#">Home</a></li>
				<li><a href="#about">About</a></li>
				<li><a href="#contact">Contact</a></li>
			</ul>
		</div><!--/.nav-collapse -->
	</div>
</nav>

<div class="container">

	<div class="main">
		<h1>FORWARD w/ Google Map</h1>
		<p class="lead">by Moojin Chae</p>
		<div id="map"></div>
		<div id="result">Ajax : </div>
	</div>

</div>

<script>
	var map;
	function initMap() {
		map = new google.maps.Map(document.getElementById('map'), {
			center: {lat: 32.877, lng: -117.235},
			zoom: 13
		});
		var marker = new google.maps.Marker({
			position: {lat: 32.877, lng: -117.235},
			map: map
		});

		map.addListener('click', function(e) {
			marker = new google.maps.Marker({
				position: {lat: e.latLng.lat(), lng: e.latLng.lng()},
				map: map
			});
		});
	}
</script>

<script>
	$(document).on("ready page:load", function () {
		$.ajax({
			url: "<%= buses_path %>",
			success: function(res){
				$("#result").append(JSON.stringify(res));
			},
			error: function (xhr, ajaxOptions, thrownError) {
				alert(thrownError);
			}
		});
	});
</script>

<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTtLxO68T3Enh5wodnVIy0CcnhVH3fWys
&libraries=visualization&callback=initMap">
</script>
